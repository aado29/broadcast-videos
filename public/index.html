<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta name="viewport" content="width:device-width, initial-scale=1, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="/css/styles.css">
	<script src="/js/libs/jquery-3.3.1.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
</head>
<body class="centered-form">

	<div class="centered-form__form">
		<form action="/chat.html ">
			<div class="form-field">
				<h3>Join a Chat</h3>
			</div>
			<div class="form-field">
				<label>Dsiplay Name</label>
				<input type="text" name="name" autofocus>
			</div>
			<div class="form-field">
				<label>Room Name</label>
				<input type="text" name="room">
			</div>
			<div class="form-field"></div>
				<button>Join</button>
		</form>
	</div>
	<div class="centered-form__form">
		<form id="room-form">
			<div class="form-field">
				<h3>Create Room</h3>
			</div>
			<div class="form-field">
				<label>Dsiplay Name</label>
				<input type="text" name="roomName" autofocus>
			</div>
			<div class="form-field"></div>
				<button>Join</button>
		</form>
	</div>
	<script>
		var socket = io();
		jQuery('#room-form').on('submit', function (e) {
			e.preventDefault();
			var roomName = jQuery('[name=roomName]')
			socket.emit('createRoom', 
				roomName.val(),
				function(err) {
					if (err) {
						alert(err)
					}
					roomName.val('')
				}
			);
		});
	</script>

</body>
</html>
